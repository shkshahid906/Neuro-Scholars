<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leaf Disease Detection</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center">
    <div class="max-w-2xl w-full bg-white p-8 rounded-lg shadow-lg">
        <h1 class="text-3xl font-bold text-center text-gray-800 mb-6">Leaf Disease Detection</h1>
        
        <div class="mb-6 text-gray-600">
            <p class="mb-4">This application uses deep learning to detect leaf diseases either through live webcam stream or by uploading an image. The model covers 33 classes including Apple, Corn, Grape, Tomato, and more.</p>
            <p class="font-semibold">Note: Live detection requires camera access and may take a few seconds to process each frame.</p>
        </div>

        {% if error %}
            <p class="text-red-500 mb-4">{{ error }}</p>
        {% endif %}

        <!-- Webcam Live Detection Section -->
        <div class="mb-8">
            <h2 class="text-xl font-semibold mb-3">Live Webcam Detection</h2>
            <div class="mb-2">
                <a href="{{ url_for('live_detect') }}" class="inline-block bg-green-600 text-white px-5 py-2 rounded hover:bg-green-700 transition">
                    Open Live Detection
                </a>
            </div>
        </div>

        <!-- Static Image Upload Section -->
        <div>
            <h2 class="text-xl font-semibold mb-2">Upload an Image</h2>
            <form method="post" enctype="multipart/form-data" action="/leaves">
                <input type="file" name="file" accept="image/*"
                    class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded 
                    file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 mb-4">
                <button type="submit"
                    class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition">
                    Upload and Analyze
                </button>
            </form>
        </div>
    </div>
</body>
</html>
